import Head from "next/head";
import MainContainer from "../components/Containers/MainContainer/MainContainer";
import { getPostsByRegion } from "../services/queries/PostsByRegion";
import { Notas3Principales } from "../components/Regiones/Notas3Principales/Notas3Principales";
import { NotasSubDestacadas } from "../components/Regiones/NotasSubDestacadas/NotasSubDestacadas";
import { Footer } from "../components/ui/Footer/Footer";
import { Banners } from "../components/ui/Banners/Banners";
import { ListaYouTube } from "../components/ui/ListaYouTube/ListaYouTube";
import { getVideosByPlayList } from "../services/queries/GetVideosByPlayList";
import { getComunicadosPO } from "../services/queries/ComunicadosPO";
import { Comunicados } from "../components/Regiones/Comunicados/Comunicados";
import { getPostsSuplePolo } from "../services/queries/PostsSuplePolo";
import { SuplePolo } from "../components/Regiones/SuplePolo/SuplePolo";
import { NotasMovPiquetero } from "../components/Regiones/NotasMovPiquetero/NotasMovPiquetero";
import { getPostsCategoriaPrensa } from "../services/queries/PostsCategoriaPrensa";
import { BotonMasComunicados } from "../components/ui/BotonMasComunicados/BotonMasComunicados";
import { BotonMasVideos } from "../components/ui/BotonMasVideos/BotonMasVideos";
import { BannerSumateMobile } from "../components/ui/BannerSumateMobile/BannerSumateMobile";
import { BannerSumateWeb } from "../components/ui/BannerSumateWeb/BannerSumateWeb";
import { BotonWsp } from "../components/ui/BotonWsp/BotonWsp";
import { BannerLibroMobile } from "../components/ui/BannerLibroMobile/BannerLibroMobile";
import { BannerLibroWeb } from "../components/ui/BannerLibroWeb/BannerLibroWeb";
import VideoHome from "../components/Regiones/VideoHome/VideoHome";
import { TapaSuplePolo } from "../components/ui/TapaSuplePoloMobile/TapaSuplePoloMobile";

export default function Home({
  notasSubDestacadas,
  notas3Principales,
  comunicadosPO,
  listaYouTube,
  notasSuplePolo,
  notasMovPiquetero,
}) {
  return (
    <>
      <Head>
        <title>Página demostración taller prensa obrera.</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <VideoHome />
      <main>
        <MainContainer>
          <SuplePolo notasSuplePolo={notasSuplePolo.edges[0].node.posts} />
          {/* {notas3Principales.regiones.nodes[0].estado_de_la_region
            .estadoDeLaRegion && (
            <Notas3Principales notas3Principales={notas3Principales.posts} />
          )} */}
          {/* <NotasSubDestacadas notasSubDestacadas={notasSubDestacadas} />
          <NotasMovPiquetero notasMovPiquetero={notasMovPiquetero} /> */}

          <BannerSumateMobile />
          <BannerSumateWeb />
          <TapaSuplePolo
            slug={notasSuplePolo.edges[0].node.slug}
            tapaSuplePolo={
              notasSuplePolo.edges[0].node.datosDePrensaNumero.imagenTapa
                .sourceUrl
            }
          />
          <Comunicados comunicadosPO={comunicadosPO} />
          <BotonMasComunicados />
          <ListaYouTube listaYouTube={listaYouTube} />
          <BotonMasVideos />
          <BannerLibroWeb />
          <BannerLibroMobile />
          <BotonWsp />
        </MainContainer>
      </main>
      <Footer />
    </>
  );
}

export async function getStaticProps() {
  const notasSubDestacadas = await getPostsByRegion("notas-sub-destacadas", 3);
  const notas3Principales = await getPostsByRegion("3-notas-principales", 3);
  const listaYouTube = await getVideosByPlayList(
    "PLcZulwVPWcU11toaBlOAHkjsRtgkg8Y-y",
    3
  );
  const notasSuplePolo = await getPostsSuplePolo("1657SP", 5);
  const comunicadosPO = await getComunicadosPO(4);
  const notasMovPiquetero = await getPostsCategoriaPrensa(
    "movimiento-piquetero",
    3
  );

  return {
    props: {
      notasSubDestacadas: notasSubDestacadas.posts,
      notas3Principales,
      comunicadosPO: comunicadosPO.posts,
      listaYouTube,
      notasSuplePolo: notasSuplePolo.prensaNumeros,
      notasMovPiquetero: notasMovPiquetero.posts,
    },
  };
}
